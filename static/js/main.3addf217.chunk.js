(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(78)},57:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(44),r=a.n(l),o=(a(57),a(59),a(61),a(63),a(65),a(8)),i=a(18),u=a(118),s=a(122),m=a(121),p=a(117),f=a(119),h=a(120),d=a(115);function E(e){var t=e.players,a=e.token,c=e.update,l=n.useState([]),r=Object(o.a)(l,2),E=r[0],b=r[1],_=n.useState("ilvl"),g=Object(o.a)(_,2),v=g[0],k=g[1],j=n.useState(!1),w=Object(o.a)(j,2),O=w[0],S=w[1];function N(e,t,a){return a?e<t?-1:e>t?1:0:e>t?-1:e<t?1:0}Object(n.useEffect)(function(){a&&(b([]),t.filter(function(e){return e.rank<=5&&70===e.character.level}).forEach(function(e){var t=e.character.name.toLowerCase();fetch("https://eu.api.blizzard.com/profile/wow/character/gordunni/".concat(t,"?namespace=profile-eu&locale=en_US&access_token=").concat(a)).then(function(e){return e.json()}).then(function(e){b(function(t){return[].concat(Object(i.a)(t),[e])})}).catch(function(e){return console.log(e)})}))},[c]);return n.createElement(p.a,{component:d.a},n.createElement(u.a,{"aria-label":"simple table"},n.createElement(f.a,null,n.createElement(h.a,null,n.createElement(m.a,{className:"clickable",onClick:function(){k("name"),S(!O)}},"Nickname"),n.createElement(m.a,{className:"clickable",align:"right",onClick:function(){k("spec"),S(!O)}},"Spec"),n.createElement(m.a,{className:"clickable",align:"right",onClick:function(){k("class"),S(!O)}},"Class"),n.createElement(m.a,{className:"clickable",onClick:function(){k("ilvl"),S(!O)},align:"right"},"ilvl"))),n.createElement(s.a,null,E.sort(function(e,t){return function(e,t,a,n){switch(a){case"ilvl":return function(e,t,a){return a?e-t:t-e}(e.equipped_item_level,t.equipped_item_level,n);case"name":return N(e.name,t.name,n);case"class":return N(e.character_class.name,t.character_class.name,n);case"spec":return N(e.active_spec.name,t.active_spec.name,n)}}(e,t,v,O)}).map(function(e,t){return n.createElement(h.a,{key:t,sx:{"&:last-child td, &:last-child th":{border:0}}},n.createElement(m.a,{component:"th",scope:"row"},n.createElement("strong",null,e.name)),n.createElement(m.a,{align:"right"},e.active_spec.name),n.createElement(m.a,{align:"right","player-class":"".concat(e.character_class.name)},n.createElement("span",null,e.character_class.name)),n.createElement(m.a,{align:"right"},n.createElement("span",{className:e.equipped_item_level>=379?"red":""+e.equipped_item_level>=372?"green":""},e.equipped_item_level)))}))))}var b=function(e){var t=e.update,a=c.a.useState(),l=Object(o.a)(a,2),r=l[0],i=l[1],u=c.a.useState([]),s=Object(o.a)(u,2),m=s[0],p=s[1];return Object(n.useEffect)(function(){r||fetch("https://oauth.battle.net/token",{body:"grant_type=client_credentials",headers:{Authorization:"Basic Y2QwOTE0YzdjYjQ1NDNhNzhiYmVjOWY4OGY1OTU0N2M6bXpUamhHVkc4UnlnUlpsQzY0S3FRS1hhQjFPUWJGcjE=","Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then(function(e){return e.json()}).then(function(e){i(e.access_token)}).catch(function(e){return console.log(e)})},[]),Object(n.useEffect)(function(){r&&fetch("https://eu.api.blizzard.com/data/wow/guild/gordunni/\u0447\u0451\u0440\u043d\u044b\u0439-\u043b\u043e\u0442\u043e\u0441/roster?namespace=profile-eu&locale=en_US&access_token=".concat(r)).then(function(e){return e.json()}).then(function(e){p(e.members)}).catch(function(e){return console.log(e)})},[r,t]),c.a.createElement("div",null,0!==m.length&&c.a.createElement(E,{players:m,token:r,update:t}))},_=a(112),g=a(110),v=a(73),k=a.n(v),j=a(113),w=a(77),O=a(116),S=Object(w.a)({palette:{mode:"dark"}});var N=function(){var e=c.a.useState(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],l=c.a.useState(!1),r=Object(o.a)(l,2),i=r[0],u=r[1],s=c.a.useState(0),m=Object(o.a)(s,2),p=m[0],f=m[1];return c.a.useEffect(function(){p>0&&setTimeout(function(){return f(p-1)},1e3)},[p]),c.a.useEffect(function(){u(!0),setTimeout(function(){u(!1)},6e4),f(60)},[]),c.a.createElement(c.a.Fragment,null,c.a.createElement(O.a,{theme:S},c.a.createElement(_.a,null),c.a.createElement(j.a,{fixed:!0,maxWidth:"lg"},c.a.createElement("div",{className:"app__header"},c.a.createElement("h1",null,"\u0427\u0451\u0440\u043d\u044b\u0439 \u041b\u043e\u0442\u043e\u0441"),0!==p&&c.a.createElement("span",null,"Cooldown ",p," sec"),c.a.createElement("div",{className:"app__header-buttons"},c.a.createElement(g.a,{disabled:i,onClick:function(){n(!a),u(!0),setTimeout(function(){u(!1)},6e4),f(60)},color:"secondary","aria-label":"Update Data"},c.a.createElement(k.a,null)))),c.a.createElement(b,{update:a}))))};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(N,null))}},[[48,2,1]]]);
//# sourceMappingURL=main.3addf217.chunk.js.map