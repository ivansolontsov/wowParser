(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{48:function(e,t,a){e.exports=a(78)},57:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var n=a(0),c=a.n(n),l=a(44),r=a.n(l),i=(a(57),a(59),a(61),a(63),a(65),a(8)),o=a(18),u=a(118),s=a(122),m=a(121),p=a(117),f=a(119),h=a(120),d=a(115);function E(e){var t=e.title,a=e.players,c=e.token,l=e.update,r=e.rank,E=n.useState([]),b=Object(i.a)(E,2),_=b[0],g=b[1],v=n.useState("ilvl"),k=Object(i.a)(v,2),j=k[0],O=k[1],w=n.useState(!1),S=Object(i.a)(w,2),N=S[0],y=S[1];function C(e,t,a){return a?e<t?-1:e>t?1:0:e>t?-1:e<t?1:0}Object(n.useEffect)(function(){c&&(g([]),a.filter(function(e){return r.includes(e.rank)&&70===e.character.level}).forEach(function(e){var t=e.character.name.toLowerCase();fetch("https://eu.api.blizzard.com/profile/wow/character/gordunni/".concat(t,"?namespace=profile-eu&locale=en_US&access_token=").concat(c)).then(function(e){return e.json()}).then(function(e){g(function(t){return[].concat(Object(o.a)(t),[e])})}).catch(function(e){return console.log(e)})}))},[l]);var z;return n.createElement("div",{className:"app__table"},n.createElement("h2",null,t),n.createElement("span",null,"Average ilvl: ",((z=_).reduce(function(e,t){return e+t.equipped_item_level},0)/z.length).toFixed(2)),n.createElement(p.a,{component:d.a},n.createElement(u.a,{"aria-label":"simple table"},n.createElement(f.a,null,n.createElement(h.a,null,n.createElement(m.a,{className:"clickable",onClick:function(){O("name"),y(!N)}},"Nickname"),n.createElement(m.a,{className:"clickable",align:"right",onClick:function(){O("spec"),y(!N)}},"Spec"),n.createElement(m.a,{className:"clickable",align:"right",onClick:function(){O("class"),y(!N)}},"Class"),n.createElement(m.a,{className:"clickable",onClick:function(){O("ilvl"),y(!N)},align:"right"},"ilvl"))),n.createElement(s.a,null,_.sort(function(e,t){return function(e,t,a,n){switch(a){case"ilvl":return function(e,t,a){return a?e-t:t-e}(e.equipped_item_level,t.equipped_item_level,n);case"name":return C(e.name,t.name,n);case"class":return C(e.character_class.name,t.character_class.name,n);case"spec":return C(e.active_spec.name,t.active_spec.name,n)}}(e,t,j,N)}).map(function(e,t){return n.createElement(h.a,{key:t,sx:{"&:last-child td, &:last-child th":{border:0}}},n.createElement(m.a,{component:"th",scope:"row"},n.createElement("a",{href:"https://worldofwarcraft.com/ru-ru/character/eu/gordunni/".concat(e.name),rel:"noopener noreferrer",target:"_blank"},n.createElement("strong",null,e.name))),n.createElement(m.a,{align:"right"},e.active_spec.name),n.createElement(m.a,{align:"right","player-class":"".concat(e.character_class.name)},n.createElement("span",null,e.character_class.name)),n.createElement(m.a,{align:"right"},n.createElement("span",{className:e.equipped_item_level>=379?"red":""+e.equipped_item_level>=372?"green":""},e.equipped_item_level)))})))))}var b=a(110),_=a(73),g=a.n(_),v=function(){var e=c.a.useState(),t=Object(i.a)(e,2),a=t[0],l=t[1],r=c.a.useState([]),o=Object(i.a)(r,2),u=o[0],s=o[1],m=c.a.useState(),p=Object(i.a)(m,2),f=p[0],h=p[1],d=c.a.useState("\u0447\u0451\u0440\u043d\u044b\u0439-\u043b\u043e\u0442\u043e\u0441"),_=Object(i.a)(d,2),v=_[0],k=(_[1],c.a.useState("gordunni")),j=Object(i.a)(k,2),O=j[0],w=(j[1],c.a.useState(!1)),S=Object(i.a)(w,2),N=S[0],y=S[1],C=c.a.useState(!1),z=Object(i.a)(C,2),U=z[0],x=z[1],T=c.a.useState(0),Y=Object(i.a)(T,2),q=Y[0],F=Y[1];return c.a.useEffect(function(){q>0&&setTimeout(function(){return F(q-1)},1e3)},[q]),c.a.useEffect(function(){x(!0),setTimeout(function(){x(!1)},6e4),F(60)},[]),Object(n.useEffect)(function(){a||fetch("https://oauth.battle.net/token",{body:"grant_type=client_credentials",headers:{Authorization:"Basic Y2QwOTE0YzdjYjQ1NDNhNzhiYmVjOWY4OGY1OTU0N2M6bXpUamhHVkc4UnlnUlpsQzY0S3FRS1hhQjFPUWJGcjE=","Content-Type":"application/x-www-form-urlencoded"},method:"POST"}).then(function(e){return e.json()}).then(function(e){l(e.access_token)}).catch(function(e){return console.log(e)})},[]),Object(n.useEffect)(function(){a&&v&&fetch("https://eu.api.blizzard.com/data/wow/guild/".concat(O,"/").concat(v,"/roster?namespace=profile-eu&locale=en_US&access_token=").concat(a)).then(function(e){return e.json()}).then(function(e){s(e.members),h(e)}).catch(function(e){return console.log(e)})},[v,O,a,N]),c.a.createElement(c.a.Fragment,null,c.a.createElement("div",{className:"app__header"},0!==u.length&&c.a.createElement("div",{className:"app__header-title"},c.a.createElement("h1",null,f.guild.name),c.a.createElement("small",null,f.guild.realm.name)),c.a.createElement("div",{className:"app__header-buttons"},0!==q&&c.a.createElement("span",null,q),c.a.createElement(b.a,{disabled:U,onClick:function(){y(!N),x(!0),setTimeout(function(){x(!1)},6e4),F(60)},color:"secondary","aria-label":"Update Data"},c.a.createElement(g.a,null)))),0!==u.length&&c.a.createElement("div",{className:"app__tables"},c.a.createElement(E,{players:u,token:a,update:N,rank:[5,4,3,2,1,0],title:"Main Characters"}),c.a.createElement(E,{players:u,token:a,update:N,rank:[6],title:"Alt Characters"})))},k=a(112),j=a(113),O=a(77),w=a(116),S=Object(O.a)({palette:{mode:"dark"}});var N=function(){return c.a.createElement(c.a.Fragment,null,c.a.createElement(w.a,{theme:S},c.a.createElement(k.a,null),c.a.createElement(j.a,{fixed:!0,maxWidth:"xl"},c.a.createElement(v,null))))};r.a.createRoot(document.getElementById("root")).render(c.a.createElement(N,null))}},[[48,2,1]]]);
//# sourceMappingURL=main.07303f7c.chunk.js.map